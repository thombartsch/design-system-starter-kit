(function(){var namespace=function(){var a=arguments,o=null,i,j,d,rt;for(i=0;i<a.length;++i){d=a[i].split(".");rt=d[0];eval("if (typeof "+rt+' == "undefined"){'+rt+" = {};} o = "+rt+";");for(j=1;j<d.length;++j){o[d[j]]=o[d[j]]||{};o=o[d[j]];}}};namespace("Dw.framework.l10n");var stringFormat=String.format||function(){var src=arguments[0];
var args=Array.prototype.slice.call(arguments,1);return src.replace(/\{\{|\}\}|\{(\d+)\}/g,function(m,n){if(m=="{{"){return"{";}if(m=="}}"){return"}";}return args[n];});};if(!Dw.framework.l10n.L10nSupport){Dw.framework.l10n.L10nSupport=function(){this.resources={};};Dw.framework.l10n.L10nSupport.prototype={inited:false,init:function(debugMode){if(this.inited){return ;
}switch(debugMode){case 1:this.transform=function(value,key,found){return stringFormat("<span class='{0}' title='{1}'>{2}</span>",(found?"l10n_ok":"l10n_empty"),key,value);};break;case 2:this.transform=function(value,key,found){return stringFormat("[({0}){1}]",found?"ok":"ex",value);};break;case 3:this.transform=function(value,key,found){return stringFormat("[({0})({1}){2}]",found?"ok":"ex",key,value);
};break;}this.inited=true;},add:function(keyValues){for(var key in keyValues){if(keyValues.hasOwnProperty(key)){this.addOne(key,keyValues[key]);}}},addOne:function(key,value){this.resources[key]=value;},l10n:function(bundle,key,def){var value=this.resources[bundle+"."+key];var found=!!value;value=value||def;
if(arguments.length>3){var args=[value].concat(Array.prototype.slice.call(arguments,3));value=stringFormat.apply(String,args);}return this.transform?this.transform(value,key,found):value;}};Dw.framework.l10n.L10nSupport.singleton=new Dw.framework.l10n.L10nSupport();window.l10n=function(){return Dw.framework.l10n.L10nSupport.singleton.l10n.apply(Dw.framework.l10n.L10nSupport.singleton,arguments);
};}})();