function getPageScroll(){var A;if(self.pageYOffset){A=self.pageYOffset;}else{if(document.documentElement&&document.documentElement.scrollTop){A=document.documentElement.scrollTop;}else{if(document.body){A=document.body.scrollTop;}}}arrayPageScroll=new Array("",A);return arrayPageScroll;}function getPageSize(){var C,A;
if(window.innerHeight&&window.scrollMaxY){C=document.body.scrollWidth;A=window.innerHeight+window.scrollMaxY;}else{if(document.body.scrollHeight>document.body.offsetHeight){C=document.body.scrollWidth;A=document.body.scrollHeight;}else{C=document.body.offsetWidth;A=document.body.offsetHeight;}}var B,D;
if(self.innerHeight){B=self.innerWidth;D=self.innerHeight;}else{if(document.documentElement&&document.documentElement.clientHeight){B=document.documentElement.clientWidth;D=document.documentElement.clientHeight;}else{if(document.body){B=document.body.clientWidth;D=document.body.clientHeight;}}}if(A<D){pageHeight=D;
}else{pageHeight=A;}if(C<B){pageWidth=B;}else{pageWidth=C;}arrayPageSize=new Array(pageWidth,pageHeight,B,D);return arrayPageSize;}function pause(B){var A=new Date();var C=A.getTime()+B;while(true){A=new Date();if(A.getTime()>C){return ;}}}function getKey(A){if(A==null){keycode=event.keyCode;}else{keycode=A.which;
}key=String.fromCharCode(keycode).toLowerCase();if(key=="x"){hideLightbox();}}function listenKey(){document.onkeypress=getKey;}function showLightbox(C){var H=document.getElementById("overlay");var B=document.getElementById("lightbox");var E=document.getElementById("lightboxCaption");var I=document.getElementById("lightboxImage");
var A=document.getElementById("loadingImage");var G=document.getElementById("lightboxDetails");var F=getPageSize();var D=getPageScroll();if(A){A.style.top=(D[1]+((F[3]-35-A.height)/2)+"px");A.style.left=(((F[0]-20-A.width)/2)+"px");A.style.display="block";}H.style.height=(F[1]+"px");H.style.display="block";
imgPreload=new Image();imgPreload.onload=function(){I.src=C.href;var K=D[1]+((F[3]-35-imgPreload.height)/2);var J=((F[0]-20-imgPreload.width)/2);B.style.top=(K<0)?"0px":K+"px";B.style.left=(J<0)?"0px":J+"px";G.style.width=imgPreload.width+"px";if(C.getAttribute("title")){E.style.display="block";E.innerHTML=C.getAttribute("title");
}else{E.style.display="none";}if(navigator.appVersion.indexOf("MSIE")!=-1){pause(250);}if(A){A.style.display="none";}selects=document.getElementsByTagName("select");for(i=0;i!=selects.length;i++){selects[i].style.visibility="hidden";}B.style.display="block";F=getPageSize();H.style.height=(F[1]+"px");
listenKey();return false;};imgPreload.src=C.href;}function hideLightbox(){objOverlay=document.getElementById("overlay");objLightbox=document.getElementById("lightbox");objOverlay.style.display="none";objLightbox.style.display="none";selects=document.getElementsByTagName("select");for(i=0;i!=selects.length;
i++){selects[i].style.visibility="visible";}document.onkeypress="";}function initLightbox(){if(!document.getElementsByTagName){return ;}var B=document.getElementsByTagName("a");for(var E=0;E<B.length;E++){var F=B[E];if(F.getAttribute("href")&&(F.getAttribute("rel")=="lightbox")){F.onclick=function(){showLightbox(this);
return false;};}}var O=document.getElementsByTagName("body").item(0);var N=document.createElement("div");N.setAttribute("id","overlay");N.onclick=function(){hideLightbox();return false;};N.style.display="none";N.style.position="absolute";N.style.top="0";N.style.left="0";N.style.zIndex="90";N.style.width="100%";
O.insertBefore(N,O.firstChild);var H=getPageSize();var I=getPageScroll();var J=new Image();J.onload=function(){var Q=document.createElement("a");Q.setAttribute("href","#");Q.onclick=function(){hideLightbox();return false;};N.appendChild(Q);var P=document.createElement("img");P.src=loadingImage;P.setAttribute("id","loadingImage");
P.style.position="absolute";P.style.zIndex="150";Q.appendChild(P);J.onload=function(){};return false;};J.src=loadingImage;var C=document.createElement("div");C.setAttribute("id","lightbox");C.style.display="none";C.style.position="absolute";C.style.zIndex="100";O.insertBefore(C,N.nextSibling);var D=document.createElement("a");
D.setAttribute("href","#");D.setAttribute("title",l10n("js.lightbox","msg.close","Click to close"));D.onclick=function(){hideLightbox();return false;};C.appendChild(D);var K=new Image();K.onload=function(){var P=document.createElement("img");P.src=closeButton;P.setAttribute("id","closeButton");P.style.position="absolute";
P.style.zIndex="200";D.appendChild(P);return false;};K.src=closeButton;var M=document.createElement("img");M.setAttribute("id","lightboxImage");D.appendChild(M);var L=document.createElement("div");L.setAttribute("id","lightboxDetails");C.appendChild(L);var G=document.createElement("div");G.setAttribute("id","lightboxCaption");
G.style.display="none";L.appendChild(G);var A=document.createElement("div");A.setAttribute("id","keyboardMsg");A.innerHTML=l10n("js.lightbox","msg.close.with_x","press {0} to close",'<a href="#" onclick="hideLightbox(); return false;"><kbd>x</kbd></a>');L.appendChild(A);}function addLoadEvent(A){var B=window.onload;
if(typeof window.onload!="function"){window.onload=A;}else{window.onload=function(){B();A();};}}addLoadEvent(initLightbox);