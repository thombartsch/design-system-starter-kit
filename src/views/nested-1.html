<!DOCTYPE html>
<html lang="en" class="list-view">

  <head>
    <meta charset="utf-8"/>
    <meta http-equiv="X-UA-Compatible" content="IE=edge"/>
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <title>.: Page Designer :.</title>
    <meta name="robots" content="noindex, nofollow"/>
    <link rel="icon" type="image/png" href="/favicon.png"/>
    <link rel="stylesheet" href="/styles/index.css"/>
    <!-- Prototype styles -->
  </head>

  <body>

    {% include "_inc_builder-popovers-toolbar.html" %}
    <main class="app-wrapper">







  <div class="left">
    <div id="drag-elements">
      <div class="item">
        <div class="insert"></div>
        <div class="component">component 1</div>
        <div class="placeholder">placeholder 1</div>
        <div class="nav">nav 1</div>
      </div>
      <div class="item">
        <div class="insert"></div>
        <div class="component">component 2</div>
        <div class="placeholder">placeholder 2</div>
        <div class="nav">nav 2</div>
      </div>
    </div>

    <div id="drop-target"></div>
  </div>
  <div class="right">
    <div id="display">Display</div>
  </div>




    </main>


    <script src='/scripts/jquery-3.2.1.min.js'></script>
    <script src='/scripts/jquery-ui.min.js'></script>
    <script src='/scripts/utils.js'></script>
    <script src='/scripts/tether.min.js'></script>
    <script src='/scripts/dragula.min.js'></script>
    {# include '_inc_js-2.html' #}


    <script>
    /*
    (function(){
      dragula([].slice.apply(document.querySelectorAll('.nested')));
    })();
    */
    /* not working */
    /*
    var containers = $('.container').toArray();
    dragula(containers);
    */

    function $(id) {
      return document.getElementById(id);
    }

    dragula([$('drag-elements'), $('drop-target'), $('display')], {
      revertOnSpill: true,
      copy: function (el, source) {
        return source === document.getElementById("drag-elements")
      },
    }).on('drop', function(el, target, source, sibling) {
      if ($('drop-target').children.length > 0) {
        //console.log("hello"+target.id);
        if(target.id == 'drop-target'){
          console.log("left");
          $('display').innerHTML = $('drop-target').innerHTML;
        };
        if(target.id == 'display'){
          console.log("right");
          $('drop-target').innerHTML = $('display').innerHTML;
        }

      } else {
        $('drop-target').innerHTML = "Region 1";
        $('display').innerHTML = "Navigation";
      }

    });
    </script>

    <style>

    /*
    #display {
      background: #2d2d2d;
      border: 10px solid #000000;

      font-size: 2em;
      color: white;
      height: 100px;
      min-width:200px;
      text-align: center;
      display:table-cell;
      vertical-align:middle;
    }

    #drag-elements {
      display: block;
      background-color: #dfdfdf;

      margin: 0 auto;
    }

    #drag-elements > div {
      text-align: center;
      float: left;
      border: 2px solid #ececec;
      background: #F7F7F7;
      transition: all .5s ease;
    }

    #drag-elements > div:active {
      -webkit-animation: wiggle 0.3s 0s infinite ease-in;
      animation: wiggle 0.3s 0s infinite ease-in;
      opacity: .6;
      border: 2px solid #000;
    }

    #drag-elements > div:hover {
      border: 2px solid gray;
      background-color: #e5e5e5;
    }

    #drop-target {
      border: 2px dashed #D9D9D9;
      min-height: 20px;
      margin: 0 auto;
      margin-top: 10px;
      display: block;
      text-align: center;
    }

    #drop-target > div {
      transition: all .5s;
      text-align: center;
      background: #fff;
      transition: all .5s ease;
    }

    #drop-target > div:active {
      -webkit-animation: wiggle 0.3s 0s infinite ease-in;
      animation: wiggle 0.3s 0s infinite ease-in;
      opacity: .6;
      border: 2px solid #000;
    }

    @-webkit-keyframes wiggle {
      0% {
        -webkit-transform: rotate(0deg);
      }
      25% {
        -webkit-transform: rotate(2deg);
      }
      75% {
        -webkit-transform: rotate(-2deg);
      }
      100% {
        -webkit-transform: rotate(0deg);
      }
    }

    @keyframes wiggle {
      0% {
        transform: rotate(-2deg);
      }
      25% {
        transform: rotate(2deg);
      }
      75% {
        transform: rotate(-2deg);
      }
      100% {
        transform: rotate(0deg);
      }
    }

    .gu-mirror {
      position: fixed !important;
      margin: 0 !important;
      z-index: 9999 !important;
      padding: 1em;
    }
    .gu-hide {
      display: none !important;
    }
    .gu-unselectable {
      -webkit-user-select: none !important;
      -moz-user-select: none !important;
      -ms-user-select: none !important;
      user-select: none !important;
    }
    #drop-target .gu-transit {
      opacity: 1;
      -ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=50)";
      filter: alpha(opacity=50);
      background: green !important;
      height: 12px;
      border-top: 4px solid #fff !important;
      border-bottom: 4px solid #fff !important;
    }
    .gu-mirror {
      opacity: 0.5;
      -ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=50)";
      filter: alpha(opacity=50);
    }

    .item{
      padding: 0;
    }

    #drop-target div.gu-transit{
      border: none;
      background: none;
    }
    #drop-target div.gu-transit .nav,
    #drop-target div.gu-transit .component,
    #drop-target div.gu-transit .placeholder{
      display: none;
    }

    #drop-target div.gu-transit .insert{
      height: 2px;
      background: red;
    }

    */

    /*hide first child */

    /*
    #drop-target div{
        display:none;

    }
    #drop-target div:first-child{
        display:block;
    }
    */


    #drag-elements .insert{
      display: none;
    }
    #drag-elements .nav{
      display: none;
    }
    #drag-elements .placeholder{
      display: none;
    }


    #drop-target .insert{
      display: none;
    }
    #drop-target .nav{
      display: none;
    }
    #drop-target .component{
      display: none;
    }

    #display .insert{
      display: none;
    }
    #display .placeholder{
      display: none;
    }
    #display .component{
      display: none;
    }


    .gu-mirror .nav{
      display: none;
    }
    .gu-mirror .placeholder{
      display: none;
    }
    .gu-mirror .insert{
      display: none;
    }




    </style>

    <style>

      .listLeft, .listCenter, .listRight{
        /*
        width: 200px;
        float: left;
        margin-right: 20px;
        border: 1px solid red;
        */
      }

      #listEditor .component, #listEditor .structure{
        display: none;
      }
      #listTools ., #listTools .structure{
        display: none;
      }
      #page_structure ., #page_structure .component{
        display: none;
      }
      #listTools li:hover,
      .region li:hover,
      #page_structure li:hover{
        cursor: grab;
      }

      .sortable1{
        width: 300px;
        float: left;
      }

      .sortable2{
        width: 300px;
        float: left;
      }

      #tools .listSub{
        display: none;
      }
      #listEditor .listSub{
        float: left;
      }

      li{
        /*margin-left: 10px;*/
      }

      ul{
        /*margin-left: 20px;*/
        min-height: 20px;
        /*border: 1px solid blue;*/
      }
      .listSub{
        background: green;
        min-width: 20px;
      }
    </style>





  </body>




</html>
