<html>

<head>
  <title>.: Page Designer :.</title>
  <meta name="robots" content="noindex, nofollow"/>
  <link rel="icon" type="image/png" href="/favicon.png"/>
  <link rel="stylesheet" href="/styles/index.css"/>
</head>

<body>




<div class="slds-grid slds-gutters slds-p-around_small">
  <div class="slds-col">
    <ul id="tools" class="tools list-group slds-has-dividers_around-space">
    	<li class="slds-item">rtf</li>
    	<li class="slds-item">media</li>
    	<li class="slds-item">canvas
        <ul class="region list-group slds-has-dividers_around-space">
          region
        </ul>
      </li>
    </ul>
  </div>



    <div class="slds-col">
      <div class="demo-only demo-component" style="width:100%;height:10rem">
        <ul id="canvas" class="canvas list-group slds-has-dividers_around-space">
        </ul>
      </div>
    </div>




  <div class="slds-col">
    <ul id="page_structure" class="canvas list-group slds-has-dividers_around-space">
    </ul>
  </div>
</div>
</body>
<script language="javascript" src='/scripts/jquery-3.2.1.min.js'></script>
<script language="javascript" src='/scripts/jquery-ui.min.js'></script>
<script language="javascript" src='/scripts/utils.js'></script>
<script language="javascript" src='/scripts/tether.min.js'></script>

<script language="javascript" src="/scripts/Sortable.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/jquery-sortablejs@latest/jquery-sortable.js"></script>
<script>


/*
var el = document.getElementById('items');
var sortable = Sortable.create(el);
*/


  $('.tools').sortable({
    group:{
      name: "list-group",
      pull: 'clone'
    },
    sort: false,
    animation: 150
  })

  $('#canvas').sortable({
    group:{
      name: "list-group",
      pull: true
    },
    sort: true,
    animation: 150,
    // Element is dropped into the list from another list
  	onAdd: function (/**Event*/evt) {
      //duplicate code to page structure
      document.querySelector('#page_structure').innerHTML = document.querySelector('#canvas').innerHTML;
      $("#page_structure").addClass('structure_region');
      $("#page_structure").addClass('region');
  	},
    onUpdate: function (/**Event*/evt) {
  		// same properties as onEnd
      document.querySelector('#page_structure').innerHTML = document.querySelector('#canvas').innerHTML;
      $("#page_structure").addClass('structure_region');
      $("#page_structure").addClass('region');
  	}
  })

  $('.region').sortable({
    group:{
      name: "list-group",
      pull: true
    },
    sort: true,
    animation: 150,
    // Element is dropped into the list from another list
  	onAdd: function (evt) {
      //duplicate code to page structure
      document.querySelector('#page_structure').innerHTML = document.querySelector('#canvas').innerHTML;
      $("#page_structure").addClass('structure_region');
      $("#page_structure").addClass('region');
  	},
    onUpdate: function (evt) {
  		// same properties as onEnd
      document.querySelector('#page_structure').innerHTML = document.querySelector('#canvas').innerHTML;
      $("#page_structure").addClass('structure_region');
      $("#page_structure").addClass('region');
  	}
  })


  $('#page_structure').sortable({
    sort: true,
    animation: 150,
    // Changed sorting within list
  	onUpdate: function (/**Event*/evt) {
  		// same properties as onEnd
      document.querySelector('#canvas').innerHTML = document.querySelector('#page_structure').innerHTML;
      $("#canvas").removeClass('structure_region');
      $("#canvas").addClass('region');
  	}
  })





{#
  group: "name",  // or { name: "...", pull: [true, false, 'clone', array], put: [true, false, array] }
	sort: true,  // sorting inside list
	delay: 0, // time in milliseconds to define when the sorting should start
	touchStartThreshold: 0, // px, how many pixels the point should move before cancelling a delayed drag event
	disabled: false, // Disables the sortable if set to true.
	store: null,  // @see Store
	animation: 150,  // ms, animation speed moving items when sorting, `0` — without animation
	easing: "cubic-bezier(1, 0, 0, 1)", // Easing for animation. Defaults to null. See https://easings.net/ for examples.
	handle: ".my-handle",  // Drag handle selector within list items
	filter: ".ignore-elements",  // Selectors that do not lead to dragging (String or Function)
	preventOnFilter: true, // Call `event.preventDefault()` when triggered `filter`
	draggable: ".item",  // Specifies which items inside the element should be draggable
	ghostClass: "sortable-ghost",  // Class name for the drop placeholder
	chosenClass: "sortable-chosen",  // Class name for the chosen item
	dragClass: "sortable-drag",  // Class name for the dragging item
	dataIdAttr: 'data-id',

	swapThreshold: 1, // Threshold of the swap zone
	invertSwap: false, // Will always use inverted swap zone if set to true
	invertedSwapThreshold: 1, // Threshold of the inverted swap zone (will be set to swapThreshold value by default)
	direction: 'horizontal', // Direction of Sortable (will be detected automatically if not given)

	forceFallback: false,  // ignore the HTML5 DnD behaviour and force the fallback to kick in

	fallbackClass: "sortable-fallback",  // Class name for the cloned DOM Element when using forceFallback
	fallbackOnBody: false,  // Appends the cloned DOM Element into the Document's Body
	fallbackTolerance: 0, // Specify in pixels how far the mouse should move before it's considered as a drag.

	scroll: true, // or HTMLElement
	scrollFn: function(offsetX, offsetY, originalEvent, touchEvt, hoverTargetEl) { ... }, // if you have custom scrollbar scrollFn may be used for autoscrolling
	scrollSensitivity: 30, // px, how near the mouse must be to an edge to start scrolling.
	scrollSpeed: 10, // px
	bubbleScroll: true, // apply autoscroll to all parent elements, allowing for easier movement

	dragoverBubble: false,
	removeCloneOnHide: true, // Remove the clone element when it is not showing, rather than just hiding it
	emptyInsertThreshold: 5, // px, distance mouse must be from empty sortable to insert drag element into it


	setData: function (/** DataTransfer */dataTransfer, /** HTMLElement*/dragEl) {
		dataTransfer.setData('Text', dragEl.textContent); // `dataTransfer` object of HTML5 DragEvent
	},

	// Element is chosen
	onChoose: function (/**Event*/evt) {
		evt.oldIndex;  // element index within parent
	},

	// Element is unchosen
	onUnchoose: function(/**Event*/evt) {
		// same properties as onEnd
	},

	// Element dragging started
	onStart: function (/**Event*/evt) {
		evt.oldIndex;  // element index within parent
	},

	// Element dragging ended
	onEnd: function (/**Event*/evt) {
		var itemEl = evt.item;  // dragged HTMLElement
		evt.to;    // target list
		evt.from;  // previous list
		evt.oldIndex;  // element's old index within old parent
		evt.newIndex;  // element's new index within new parent
	},

	// Element is dropped into the list from another list
	onAdd: function (/**Event*/evt) {
		// same properties as onEnd
	},

	// Changed sorting within list
	onUpdate: function (/**Event*/evt) {
		// same properties as onEnd
	},

	// Called by any change to the list (add / update / remove)
	onSort: function (/**Event*/evt) {
		// same properties as onEnd
	},

	// Element is removed from the list into another list
	onRemove: function (/**Event*/evt) {
		// same properties as onEnd
	},

	// Attempt to drag a filtered element
	onFilter: function (/**Event*/evt) {
		var itemEl = evt.item;  // HTMLElement receiving the `mousedown|tapstart` event.
	},

	// Event when you move an item in the list or between lists
	onMove: function (/**Event*/evt, /**Event*/originalEvent) {
		// Example: https://jsbin.com/nawahef/edit?js,output
		evt.dragged; // dragged HTMLElement
		evt.draggedRect; // DOMRect {left, top, right, bottom}
		evt.related; // HTMLElement on which have guided
		evt.relatedRect; // DOMRect
		evt.willInsertAfter; // Boolean that is true if Sortable will insert drag element after target by default
		originalEvent.clientY; // mouse position
		// return false; — for cancel
		// return -1; — insert before target
		// return 1; — insert after target
	},

	// Called when creating a clone of element
	onClone: function (/**Event*/evt) {
		var origEl = evt.item;
		var cloneEl = evt.clone;
	},

	// Called when dragging element changes position
	onChange: function(/**Event*/evt) {
		evt.newIndex // most likely why this event is used is to get the dragging element's current index
		// same properties as onEnd
	}


#}

</script>


<style>

</style>



</html>
